{"ast":null,"code":"// import React, { useState, useEffect } from 'react';\n// import axios from 'axios';\n// import './style.css';\n// import { Link } from 'react-router-dom';\n// import CityCountryService from '../../engine/project/CityCountryService.php'; // Import the service for fetching city/country data\n//\n// function Register() {\n//     const [email, setEmail] = useState('');\n//     const [password, setPassword] = useState('');\n//     const [firstName, setFirstName] = useState('');\n//     const [lastName, setLastName] = useState('');\n//     const [age, setAge] = useState('');\n//     const [countries, setCountries] = useState([]);\n//     const [selectedCountry, setSelectedCountry] = useState('');\n//     const [cities, setCities] = useState([]);\n//     const [selectedCity, setSelectedCity] = useState('');\n//\n//     useEffect(() => {\n//         const fetchCountries = async () => {\n//             try {\n//                 const response = await axios.get('http://localhost:8000/api/countries');\n//                 setCountries(response.data);\n//             } catch (error) {\n//                 console.error('Error fetching countries:', error);\n//             }\n//         };\n//\n//         fetchCountries();\n//     }, []);\n//\n//     useEffect(() => {\n//         if (selectedCountry) {\n//             const fetchCities = async () => {\n//                 try {\n//                     const response = await axios.get(`http://localhost:8000/api/cities?country=${selectedCountry}`);\n//                     setCities(response.data);\n//                 } catch (error) {\n//                     console.error(`Error fetching cities for country ${selectedCountry}:`, error);\n//                 }\n//             };\n//\n//             fetchCities();\n//         }\n//     }, [selectedCountry]);\n//\n//     const handleSubmit = async (e) => {\n//         e.preventDefault();\n//\n//         try {\n//             const response = await axios.post('/register', {\n//                 email, password, firstName, lastName, age, city_id: selectedCity\n//             });\n//             alert(response.data.message);\n//         } catch (error) {\n//             alert('Registration failed: ' + error.message);\n//         }\n//     }\n//\n//     // Instantiate CityCountryService\n//     const cityCountryService = new CityCountryService();\n//\n//     useEffect(() => {\n//         // Fetch countries using CityCountryService\n//         const fetchCountries = async () => {\n//             try {\n//                 const countries = await cityCountryService.getCountries();\n//                 setCountries(countries);\n//             } catch (error) {\n//                 console.error('Error fetching countries:', error);\n//             }\n//         };\n//\n//         fetchCountries();\n//     }, []);\n//\n//     const handleCountryChange = async (e) => {\n//         const countryId = parseInt(e.target.value);\n//         setSelectedCountry(countryId);\n//\n//         // Fetch cities for the selected country using CityCountryService\n//         try {\n//             const cities = await cityCountryService.getCitiesByCountry(countryId);\n//             setCities(cities);\n//             // Set default city selection to the first city in the list\n//             setSelectedCity(cities.length > 0 ? cities[0].id : '');\n//         } catch (error) {\n//             console.error(`Error fetching cities for country ${countryId}:`, error);\n//             setCities([]);\n//         }\n//     };\n//\n//     return (\n//         <div className=\"register-container\">\n//             <form onSubmit={handleSubmit} className=\"register-form\">\n//                 <h2>Register</h2>\n//                 <input type=\"email\" placeholder=\"Email\" value={email} onChange={(e) => setEmail(e.target.value)} required />\n//                 <input type=\"password\" placeholder=\"Password\" value={password} onChange={(e) => setPassword(e.target.value)} required />\n//                 <input type=\"text\" placeholder=\"First Name\" value={firstName} onChange={(e) => setFirstName(e.target.value)} required />\n//                 <input type=\"text\" placeholder=\"Last Name\" value={lastName} onChange={(e) => setLastName(e.target.value)} required />\n//                 <input type=\"number\" placeholder=\"Age\" value={age} onChange={(e) => setAge(e.target.value)} required />\n//\n//                 <select value={selectedCountry} onChange={handleCountryChange}>\n//                     <option value=\"\">Select Country</option>\n//                     {countries.map(country => (\n//                         <option key={country.id} value={country.id}>{country.name}</option>\n//                     ))}\n//                 </select>\n//\n//                 <select value={selectedCity} onChange={(e) => setSelectedCity(e.target.value)}>\n//                     <option value=\"\">Select City</option>\n//                     {cities.map(city => (\n//                         <option key={city.id} value={city.id}>{city.name}</option>\n//                     ))}\n//                 </select>\n//\n//                 <button type=\"submit\">Register</button>\n//                 <p className=\"register-text\">Already have an account? <Link to=\"/login\" className=\"login-link\">Login</Link></p>\n//             </form>\n//         </div>\n//     );\n// }\n//\n// export default Register;","map":{"version":3,"names":[],"sources":["C:/Users/Ani Mashinyan/PhpstormProjects/tumo_task/frontend/src/Register.js"],"sourcesContent":["// import React, { useState, useEffect } from 'react';\r\n// import axios from 'axios';\r\n// import './style.css';\r\n// import { Link } from 'react-router-dom';\r\n// import CityCountryService from '../../engine/project/CityCountryService.php'; // Import the service for fetching city/country data\r\n//\r\n// function Register() {\r\n//     const [email, setEmail] = useState('');\r\n//     const [password, setPassword] = useState('');\r\n//     const [firstName, setFirstName] = useState('');\r\n//     const [lastName, setLastName] = useState('');\r\n//     const [age, setAge] = useState('');\r\n//     const [countries, setCountries] = useState([]);\r\n//     const [selectedCountry, setSelectedCountry] = useState('');\r\n//     const [cities, setCities] = useState([]);\r\n//     const [selectedCity, setSelectedCity] = useState('');\r\n//\r\n//     useEffect(() => {\r\n//         const fetchCountries = async () => {\r\n//             try {\r\n//                 const response = await axios.get('http://localhost:8000/api/countries');\r\n//                 setCountries(response.data);\r\n//             } catch (error) {\r\n//                 console.error('Error fetching countries:', error);\r\n//             }\r\n//         };\r\n//\r\n//         fetchCountries();\r\n//     }, []);\r\n//\r\n//     useEffect(() => {\r\n//         if (selectedCountry) {\r\n//             const fetchCities = async () => {\r\n//                 try {\r\n//                     const response = await axios.get(`http://localhost:8000/api/cities?country=${selectedCountry}`);\r\n//                     setCities(response.data);\r\n//                 } catch (error) {\r\n//                     console.error(`Error fetching cities for country ${selectedCountry}:`, error);\r\n//                 }\r\n//             };\r\n//\r\n//             fetchCities();\r\n//         }\r\n//     }, [selectedCountry]);\r\n//\r\n//     const handleSubmit = async (e) => {\r\n//         e.preventDefault();\r\n//\r\n//         try {\r\n//             const response = await axios.post('/register', {\r\n//                 email, password, firstName, lastName, age, city_id: selectedCity\r\n//             });\r\n//             alert(response.data.message);\r\n//         } catch (error) {\r\n//             alert('Registration failed: ' + error.message);\r\n//         }\r\n//     }\r\n//\r\n//     // Instantiate CityCountryService\r\n//     const cityCountryService = new CityCountryService();\r\n//\r\n//     useEffect(() => {\r\n//         // Fetch countries using CityCountryService\r\n//         const fetchCountries = async () => {\r\n//             try {\r\n//                 const countries = await cityCountryService.getCountries();\r\n//                 setCountries(countries);\r\n//             } catch (error) {\r\n//                 console.error('Error fetching countries:', error);\r\n//             }\r\n//         };\r\n//\r\n//         fetchCountries();\r\n//     }, []);\r\n//\r\n//     const handleCountryChange = async (e) => {\r\n//         const countryId = parseInt(e.target.value);\r\n//         setSelectedCountry(countryId);\r\n//\r\n//         // Fetch cities for the selected country using CityCountryService\r\n//         try {\r\n//             const cities = await cityCountryService.getCitiesByCountry(countryId);\r\n//             setCities(cities);\r\n//             // Set default city selection to the first city in the list\r\n//             setSelectedCity(cities.length > 0 ? cities[0].id : '');\r\n//         } catch (error) {\r\n//             console.error(`Error fetching cities for country ${countryId}:`, error);\r\n//             setCities([]);\r\n//         }\r\n//     };\r\n//\r\n//     return (\r\n//         <div className=\"register-container\">\r\n//             <form onSubmit={handleSubmit} className=\"register-form\">\r\n//                 <h2>Register</h2>\r\n//                 <input type=\"email\" placeholder=\"Email\" value={email} onChange={(e) => setEmail(e.target.value)} required />\r\n//                 <input type=\"password\" placeholder=\"Password\" value={password} onChange={(e) => setPassword(e.target.value)} required />\r\n//                 <input type=\"text\" placeholder=\"First Name\" value={firstName} onChange={(e) => setFirstName(e.target.value)} required />\r\n//                 <input type=\"text\" placeholder=\"Last Name\" value={lastName} onChange={(e) => setLastName(e.target.value)} required />\r\n//                 <input type=\"number\" placeholder=\"Age\" value={age} onChange={(e) => setAge(e.target.value)} required />\r\n//\r\n//                 <select value={selectedCountry} onChange={handleCountryChange}>\r\n//                     <option value=\"\">Select Country</option>\r\n//                     {countries.map(country => (\r\n//                         <option key={country.id} value={country.id}>{country.name}</option>\r\n//                     ))}\r\n//                 </select>\r\n//\r\n//                 <select value={selectedCity} onChange={(e) => setSelectedCity(e.target.value)}>\r\n//                     <option value=\"\">Select City</option>\r\n//                     {cities.map(city => (\r\n//                         <option key={city.id} value={city.id}>{city.name}</option>\r\n//                     ))}\r\n//                 </select>\r\n//\r\n//                 <button type=\"submit\">Register</button>\r\n//                 <p className=\"register-text\">Already have an account? <Link to=\"/login\" className=\"login-link\">Login</Link></p>\r\n//             </form>\r\n//         </div>\r\n//     );\r\n// }\r\n//\r\n// export default Register;\r\n"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","ignoreList":[]},"metadata":{},"sourceType":"module"}